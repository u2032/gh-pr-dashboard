<html>

<head>
    <title>Pull Requests Buddy</title>

    <meta http-equiv='Content-Security-Policy'
          CONTENT="default-src 'self'; script-src 'self' 'unsafe-inline' u2032.github.io; style-src 'self' 'unsafe-inline' u2032.github.io fonts.googleapis.com; font-src 'self' fonts.gstatic.com; img-src 'self' *; connect-src 'self' api.github.com">

    <link rel="stylesheet" href="./styles/main.css">
    <link rel="stylesheet" href="./styles/w3.css">
    <link rel="stylesheet" href="./styles/fontawesome.min.css">
    <link rel="stylesheet" href="./styles/solid.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans">

    <script type="text/javascript" src="./scripts/controls.js"></script>
    <script type="text/javascript" src="./scripts/github.js"></script>
</head>

<body class="w3-black" onload="init(); loading_step()">

<header class="w3-bar w3-teal">
    <div id="header-user" class="w3-bar-item w3-hide">
        <span id="user-name"></span> (@<span id="user-login"></span>)
    </div>
    <div id="status-message" class="w3-bar-item w3-right w3-small italic">&nbsp;</div>
</header>

<main class="w3-margin w3-padding-large">
    <div id="loading" class="w3-center w3-animate-fading">
        <h1>... LOADING ...</h1>
    </div>

    <div id="connection" class="w3-hide">
        <div class="w3-card-4 w3-white w3-padding-large w3-round-large">
            <h1>Pull Requests Buddy</h1>
            <div class="w3-section">
                <p>
                    This page is intended to display a dashboard of the pending pull requests relevant for you.
                    To do that, this page needs to be able to connect to the GitHub API throught a personnal GitHub
                    token with the read access to the respositories you want to be able to track.
                    If you have none, you can generate a new GitHub Token from [<a
                        href="https://github.com/settings/tokens" target="_blank">your account's settings</a>].
                </p>
                <p>
                    This token stays client's side in your browser and it's not send to a server. Actually, the whole
                    content of this page and dashboard is generated client's side and doesn't male any call to a service
                    except GitHub itself to retrieve the information.
                </p>
            </div>
            <form class="w3-section" onsubmit="return connection_step();">
                <label class="w3-margin w3-large">Enter your Github Token:</label>
                <input id="gh-token" type="password" class="w3-input w3-border w3-pale-yellow" required="true"/>
                <button class="w3-btn w3-blue w3-margin w3-right w3-border" onclick="return connection_step();">
                    CONNECT
                </button>
            </form>
            <div class="w3-clear">&nbsp;</div>
        </div>
        <div id="connection-error" class="w3-panel w3-yellow w3-border w3-border-white w3-hide">
            <h3>Oops!</h3>
            <p>
                We were unable to connect to the GitHub API to retrieve your information. Is your GitHub Token correct?
            </p>
        </div>
    </div>

    <div id="dashboard" class="w3-hide">

        <div>
            <div id="matching-list" class="w3-container w3-right-align w3-small w3-margin-bottom">
                Matching:
                <button class="w3-btn w3-border w3-round w3-margin-left w3-pale-blue pointable" data-filter="matching"
                        data-filter-value="direct">
                    <span>DIRECT</span>
                    <i class="fa-sharp fa-solid fa-bullseye w3-text-red"></i>
                </button>
                <button class="w3-btn w3-border w3-round w3-margin-left w3-pale-blue pointable" data-filter="matching"
                        data-filter-value="team">
                    <span>TEAM</span>
                    <i class="fa-solid fa-users w3-text-purple"></i>
                </button>
            </div>

            <div id="filter-organization-list" class="w3-container w3-right-align w3-small w3-margin-bottom">
                Organizations:
                <button id="filter-organization-template"
                        class="w3-btn w3-border w3-round w3-margin-left w3-pale-blue pointable w3-hide">
                    <img src="" width="24" height="24">
                    <span></span>
                </button>
            </div>
        </div>

        <div id="dashboard-loading" class="w3-center w3-animate-fading w3-section w3-margin-top">
            <h1>... LOADING ...</h1>
        </div>

        <div id="no-pull-request" class="w3-center w3-hide w3-section w3-margin-top">
            <h1>... No Pull Request found ...</h1>
        </div>

        <div id="pull-request-template"
             class="w3-card-4 w3-padding w3-white w3-section w3-hover-light-blue w3-hide pointable">
            <div class="w3-row flex">
                <div class="w3-col s11 m11 l11 flex">
                    <div class="w3-padding-small">
                        &nbsp;
                    </div>
                    <div>
                        <div>
                            <img class="pull-request-author" src="" title="" alt="" width="24" height="24"/>
                            <span class="pull-request-title w3-large bold">This is a title</span>
                            <span class="pull-request-number w3-large w3-text-dark-gray">#1234</span>
                        </div>
                        <div>
                            <img class="pull-request-repo-owner" src="" width="24" height="24"/>
                            <span class="pull-request-repo">org/repo-name</span>
                        </div>
                        <div class="w3-small">
                            Created: <span class="pull-request-created-at">1985-08-29</span>
                        </div>
                        <div class="pull-request-review-list w3-show-inline-block">
                            <div class="pull-request-review-template w3-hide">
                                <i class="pull-request-review-icon"></i>
                                <span class="pull-request-review-name">@u2032</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="w3-col s1 m1 l1 w3-right-align w3-display-container">
                    <div class="w3-display-bottomright">
                        <div class="w3-hide" data-matching="direct">
                            <i class="fa-solid fa-bullseye w3-text-red" title="DIRECT"></i>
                        </div>
                        <div class="w3-hide" data-matching="team">
                            <i class="fa-solid fa-users w3-text-purple" title="TEAM"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<footer>

</footer>

</body>
</html>
